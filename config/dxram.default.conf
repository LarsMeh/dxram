<?xml version="1.0" encoding="UTF-8"?>
<conf>
	<DXRAMEngine>
		<Settings>
			<Logger>
				<Level __type="str">debug</Level>
				<File>
					<Level __type="str">disabled</Level>
					<Path __type="str">log.txt</Path>
					<BackupOld __type="bool">false</BackupOld>
				</File>
				<Console>
					<Level __type="str">trace</Level>
				</Console>
			</Logger>
		</Settings>
		<Components>
			<Component>
				<Enabled __id="0" __type="bool">1</Enabled>
				<Class __id="0" __type="str">de.hhu.bsinfo.dxram.engine.NullComponent</Class>
				<PriorityInit __id="0" __type="int">1</PriorityInit>
				<PriorityShutdown __id="0" __type="int">99</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="1" __type="bool">1</Enabled>
				<Class __id="1" __type="str">de.hhu.bsinfo.dxram.logger.LoggerComponent</Class>
				<PriorityInit __id="1" __type="int">2</PriorityInit>
				<PriorityShutdown __id="1" __type="int">98</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="2" __type="bool">1</Enabled>
				<Class __id="2" __type="str">de.hhu.bsinfo.dxram.term.TerminalComponent</Class>
				<PriorityInit __id="2" __type="int">3</PriorityInit>
				<PriorityShutdown __id="2" __type="int">97</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="3" __type="bool">1</Enabled>
				<Class __id="3" __type="str">de.hhu.bsinfo.dxram.event.EventComponent</Class>
				<PriorityInit __id="3" __type="int">4</PriorityInit>
				<PriorityShutdown __id="3" __type="int">96</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="4" __type="bool">1</Enabled>
				<Class __id="4" __type="str">de.hhu.bsinfo.dxram.stats.StatisticsComponent</Class>
				<PriorityInit __id="4" __type="int">5</PriorityInit>
				<PriorityShutdown __id="4" __type="int">95</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="5" __type="bool">1</Enabled>
				<Class __id="5" __type="str">de.hhu.bsinfo.dxram.mem.MemoryManagerComponent</Class>
				<PriorityInit __id="5" __type="int">6</PriorityInit>
				<PriorityShutdown __id="5" __type="int">94</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="6" __type="bool">1</Enabled>
				<Class __id="6" __type="str">de.hhu.bsinfo.dxram.boot.ZookeeperBootComponent</Class>
				<PriorityInit __id="6" __type="int">7</PriorityInit>
				<PriorityShutdown __id="6" __type="int">50</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="7" __type="bool">1</Enabled>
				<Class __id="7" __type="str">de.hhu.bsinfo.dxram.net.NetworkComponent</Class>
				<PriorityInit __id="7" __type="int">8</PriorityInit>
				<PriorityShutdown __id="7" __type="int">92</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="8" __type="bool">1</Enabled>
				<Class __id="8" __type="str">de.hhu.bsinfo.dxram.lookup.LookupComponent</Class>
				<PriorityInit __id="8" __type="int">9</PriorityInit>
				<PriorityShutdown __id="8" __type="int">91</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="9" __type="bool">1</Enabled>
				<Class __id="9" __type="str">de.hhu.bsinfo.dxram.failure.FailureComponent</Class>
				<PriorityInit __id="9" __type="int">10</PriorityInit>
				<PriorityShutdown __id="9" __type="int">90</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="10" __type="bool">1</Enabled>
				<Class __id="10" __type="str">de.hhu.bsinfo.dxram.lock.PeerLockComponent</Class>
				<PriorityInit __id="10" __type="int">11</PriorityInit>
				<PriorityShutdown __id="10" __type="int">89</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="11" __type="bool">1</Enabled>
				<Class __id="11" __type="str">de.hhu.bsinfo.dxram.log.LogComponent</Class>
				<PriorityInit __id="11" __type="int">12</PriorityInit>
				<PriorityShutdown __id="11" __type="int">88</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="12" __type="bool">1</Enabled>
				<Class __id="12" __type="str">de.hhu.bsinfo.dxram.backup.BackupComponent</Class>
				<PriorityInit __id="12" __type="int">13</PriorityInit>
				<PriorityShutdown __id="12" __type="int">87</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="13" __type="bool">1</Enabled>
				<Class __id="13" __type="str">de.hhu.bsinfo.dxram.chunk.ChunkComponent</Class>
				<PriorityInit __id="13" __type="int">14</PriorityInit>
				<PriorityShutdown __id="13" __type="int">86</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="14" __type="bool">1</Enabled>
				<Class __id="14" __type="str">de.hhu.bsinfo.dxram.nameservice.NameserviceComponent</Class>
				<PriorityInit __id="14" __type="int">15</PriorityInit>
				<PriorityShutdown __id="14" __type="int">85</PriorityShutdown>
			</Component>
			<Component>
				<Enabled __id="15" __type="bool">1</Enabled>
				<Class __id="15" __type="str">de.hhu.bsinfo.dxcompute.job.JobWorkStealingComponent</Class>
				<PriorityInit __id="15" __type="int">16</PriorityInit>
				<PriorityShutdown __id="15" __type="int">84</PriorityShutdown>
			</Component>
		</Components>
		<Services>
			<Service>
				<Enabled __id="0" __type="bool">1</Enabled>
				<Class __id="0" __type="str">de.hhu.bsinfo.dxram.engine.NullService</Class>
			</Service>
			<Service>
				<Enabled __id="1" __type="bool">1</Enabled>
				<Class __id="1" __type="str">de.hhu.bsinfo.dxram.chunk.ChunkService</Class>
			</Service>
			<Service>
				<Enabled __id="2" __type="bool">1</Enabled>
				<Class __id="2" __type="str">de.hhu.bsinfo.dxram.nameservice.NameserviceService</Class>
			</Service>
			<Service>
				<Enabled __id="3" __type="bool">1</Enabled>
				<Class __id="3" __type="str">de.hhu.bsinfo.dxram.lock.PeerLockService</Class>
			</Service>
			<Service>
				<Enabled __id="4" __type="bool">1</Enabled>
				<Class __id="4" __type="str">de.hhu.bsinfo.dxram.logger.LoggerService</Class>
			</Service>
			<Service>
				<Enabled __id="5" __type="bool">1</Enabled>
				<Class __id="5" __type="str">de.hhu.bsinfo.dxram.term.TerminalService</Class>
			</Service>
			<Service>
				<Enabled __id="6" __type="bool">1</Enabled>
				<Class __id="6" __type="str">de.hhu.bsinfo.dxram.boot.BootService</Class>
			</Service>
			<Service>
				<Enabled __id="7" __type="bool">1</Enabled>
				<Class __id="7" __type="str">de.hhu.bsinfo.dxram.net.NetworkService</Class>
			</Service>
			<Service>
				<Enabled __id="8" __type="bool">1</Enabled>
				<Class __id="8" __type="str">de.hhu.bsinfo.dxram.stats.StatisticsService</Class>
			</Service>
			<Service>
				<Enabled __id="9" __type="bool">1</Enabled>
				<Class __id="9" __type="str">de.hhu.bsinfo.dxram.chunk.AsyncChunkService</Class>
			</Service>
			<Service>
				<Enabled __id="10" __type="bool">1</Enabled>
				<Class __id="10" __type="str">de.hhu.bsinfo.dxram.migration.MigrationService</Class>
			</Service>
			<Service>
				<Enabled __id="11" __type="bool">1</Enabled>
				<Class __id="11" __type="str">de.hhu.bsinfo.dxram.log.LogService</Class>
			</Service>
			<Service>
				<Enabled __id="12" __type="bool">1</Enabled>
				<Class __id="12" __type="str">de.hhu.bsinfo.dxcompute.job.JobService</Class>
			</Service>
			<Service>
				<Enabled __id="13" __type="bool">1</Enabled>
				<Class __id="13" __type="str">de.hhu.bsinfo.dxcompute.ms.MasterSlaveComputeService</Class>
			</Service>
			<Service>
				<Enabled __id="14" __type="bool">1</Enabled>
				<Class __id="14" __type="str">de.hhu.bsinfo.dxgraph.GraphService</Class>
			</Service>
			<Service>
				<Enabled __id="15" __type="bool">1</Enabled>
				<Class __id="15" __type="str">de.hhu.bsinfo.dxram.sync.SynchronizationService</Class>
			</Service>
			<Service>
				<Enabled __id="16" __type="bool">1</Enabled>
				<Class __id="16" __type="str">de.hhu.bsinfo.dxram.tmp.TemporaryStorageService</Class>
			</Service>
			<Service>
				<Enabled __id="17" __type="bool">1</Enabled>
				<Class __id="17" __type="str">de.hhu.bsinfo.dxram.chunk.ChunkMemoryService</Class>
			</Service>
			<Service>
			    <Enabled __id="18" __type="bool">1</Enabled>
			    <Class __id="18" __type="str">de.hhu.bsinfo.dxram.lookup.LookupService</Class>
			</Service>
			<Service>
				<Enabled __id="19" __type="bool">1</Enabled>
				<Class __id="19" __type="str">de.hhu.bsinfo.dxram.recovery.RecoveryService</Class>
			</Service>
		</Services>
		<ComponentSettings>
			<NullComponent>
			</NullComponent>
			<LoggerComponent>
			</LoggerComponent>
			<AbstractBootComponent>
				<ZookeeperBootComponent>
					<Path __type="str">/dxram</Path>
					<Timeout __type="int">10000</Timeout>
					<BitfieldSize __type="int">262144</BitfieldSize>
				</ZookeeperBootComponent>
			</AbstractBootComponent>
			<NetworkComponent>
				<ThreadCountDefaultMessageHandler __type="int">1</ThreadCountDefaultMessageHandler>
				<RequestMapEntryCount __type="int">1048576</RequestMapEntryCount>
				<IncomingBufferSize __type="int" __unit="kb2b">512</IncomingBufferSize>
				<OutgoingBufferSize __type="int" __unit="kb2b">512</OutgoingBufferSize>
				<NumberOfPendingBuffersPerConnection __type="int">100</NumberOfPendingBuffersPerConnection>
				<FlowControlWindowSize __type="int" __unit="kb2b">512</FlowControlWindowSize>
				<RequestTimeoutMs __type="int">333</RequestTimeoutMs>
			</NetworkComponent>
			<LookupComponent>
				<CacheEnabled __type="bool">true</CacheEnabled>
				<CacheEntries __type="long">1000</CacheEntries>
				<NameserviceCacheEntries __type="int">1000000</NameserviceCacheEntries>
				<CacheTTL __type="long">1000</CacheTTL>
				<PingInterval __type="int">1</PingInterval>
				<MaxBarriersPerSuperpeer __type="int">1000</MaxBarriersPerSuperpeer>
				<StorageMaxNumEntries __type="int">1000</StorageMaxNumEntries>
				<StorageMaxSizeBytes __type="int" __unit="mb2b">32</StorageMaxSizeBytes>
			</LookupComponent>
			<MemoryManagerComponent>
				<KeyValueStoreSizeBytes __type="long" __unit="gb2b">1</KeyValueStoreSizeBytes>
				<SegmentSize __type="long" __unit="gb2b">1</SegmentSize>
			</MemoryManagerComponent>
			<EventComponent>
				<UseExecutor __type="bool">true</UseExecutor>
				<ThreadCount __type="int">1</ThreadCount>
			</EventComponent>
			<StatisticsComponent>
				<Record __type="bool">false</Record>
			</StatisticsComponent>
			<AbstractJobComponent>
				<JobWorkStealingComponent>
					<NumWorkers __type="int">1</NumWorkers>
				</JobWorkStealingComponent>
			</AbstractJobComponent>
			<BackupComponent>
				<BackupActive __type="bool">true</BackupActive>
				<BackupDirectory __type="str">./log/</BackupDirectory>
				<BackupRangeSize __type="long" __unit="mb2b">256</BackupRangeSize> <!-- Should be chosen depending on SecondaryLog size -->
				<ReplicationFactor __type="short">3</ReplicationFactor>
			</BackupComponent>
			<NameserviceComponent>
				<Type __type="str">NAME</Type> <!-- NAME is limited to 5 characters, for integers use ID instead -->
			</NameserviceComponent>
			<TerminalComponent>
				<AskOnQuit __type="bool">true</AskOnQuit>
			</TerminalComponent>
		</ComponentSettings>
		<ServiceSettings>
			<TerminalService>
				<AutostartScript __type="str"></AutostartScript>
			</TerminalService>
			<NullService>
			</NullService>
			<ChunkService>
			</ChunkService>
			<PeerLockService>
				<RemoteLockSendIntervalMs __type="int">10</RemoteLockSendIntervalMs>
				<RemoteLockTryTimeoutMs __type="int">100</RemoteLockTryTimeoutMs>
			</PeerLockService>
			<JobService>
			</JobService>
			<LoggerService>
			</LoggerService>
			<LogService>
				<LogChecksum __type="bool">true</LogChecksum>
				<FlashPageSize __type="int" __unit="kb2b">4</FlashPageSize>
				<LogSegmentSize __type="int" __unit="mb2b">8</LogSegmentSize>
				<PrimaryLogSize __type="long" __unit="mb2b">256</PrimaryLogSize>
				<SecondaryLogSize __type="long" __unit="mb2b">512</SecondaryLogSize>
				<WriteBufferSize __type="int" __unit="mb2b">256</WriteBufferSize>
				<SecondaryLogBufferSize __type="int" __unit="kb2b">128</SecondaryLogBufferSize>
				<ReorgUtilizationThreshold __type="int">70</ReorgUtilizationThreshold>
				<SortBufferPooling __type="boolean">true</SortBufferPooling> <!-- Uses 48 mb constantly for buffer pooling. Accelerates log entry processing and reduces burden on GC under load -->
				<StorageMaxNumEntries __type="int">1000</StorageMaxNumEntries>
				<StorageMaxSizeBytes __type="int" __unit="mb2b">32</StorageMaxSizeBytes>
			</LogService>
			<MasterSlaveComputeService>
				<Role __type="str">None</Role>
				<ComputeGroupId __type="short">0</ComputeGroupId>
				<PingIntervalMs __type="int">1000</PingIntervalMs>
			</MasterSlaveComputeService>
		</ServiceSettings>
	</DXRAMEngine>
</conf>
